<app-sidebar></app-sidebar>
<section>
  <div class="header">ข้อมูล Adviser</div>
  <div class="content">
    <div class="adviser-select-section">
      <div class="select-adviser">
        <mat-form-field floatLabel="never">
          <!-- [formControl]="adviserCtrl"  -->
          <mat-select placeholder="เลือกที่ปรึกษา" (selectionChange)="getStudent($event.value)" #singleSelect>
            <mat-option *ngFor="let adviser of adviser_data" [value]="adviser.id">
              {{ adviser.user_firstname + " " + adviser.user_lastname }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <!-- create student button -->
    <div class="header-button">
      <button class="button-radius add-button"><mat-icon>add</mat-icon> เพิ่ม user</button>
    </div>
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="student_dataSource">
        <!-- id Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ลำดับ</th>
          <td mat-cell *matCellDef="let i = index">{{ i + 1 }}</td>
        </ng-container>

        <!-- userid Column -->
        <ng-container matColumnDef="user_id">
          <th mat-header-cell *matHeaderCellDef>รหัสนักศึกษา</th>
          <td mat-cell *matCellDef="let element">{{ element.user_id }}</td>
        </ng-container>

        <!-- firstname Column -->
        <ng-container matColumnDef="user_firstname">
          <th mat-header-cell *matHeaderCellDef>ชื่อ</th>
          <td mat-cell *matCellDef="let element">
            {{ element.user_firstname }}
          </td>
        </ng-container>

        <!-- lastname Column -->
        <ng-container matColumnDef="user_lastname">
          <th mat-header-cell *matHeaderCellDef>นามสกุล</th>
          <td mat-cell *matCellDef="let element">
            {{ element.user_lastname }}
          </td>
        </ng-container>

        <!-- editor Column -->
        <ng-container matColumnDef="button">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <button class="delete-icon" (click)="onDelete(element)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <!-- pagination -->
      <mat-paginator [pageSizeOptions]="[20, 50, 100]" showFirstLastButtons></mat-paginator>
    </div>
  </div>
</section>
